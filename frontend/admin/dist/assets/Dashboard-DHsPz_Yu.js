import{b as p,s as R,p as V,d as I,u as M,r as y}from"./elementPlus-DUIuSOAC.js";import{u as T,H as x,i as U,a as H,b as J,c as Q,d as X,e as j,f as q,g as G}from"./charts-BoaYK9yd.js";import{y as K,r as w,c as k,h as Y,z as S,R as t,J as e,al as r,B as s,u as i,P as h,I as _,L as Z,Q as tt,a6 as et,A as n}from"./vendor-Dt6xM8n7.js";import{_ as st}from"./_plugin-vue_export-helper-DlAUqK2U.js";const at={class:"dashboard-container"},ot={class:"stats-content"},lt={class:"stats-icon wheelchair"},it={class:"stats-info"},nt={class:"stats-number"},rt={class:"stats-content"},ct={class:"stats-icon available"},dt={class:"stats-info"},ut={class:"stats-number"},_t={class:"stats-content"},ht={class:"stats-icon orders"},pt={class:"stats-info"},mt={class:"stats-number"},ft={class:"stats-content"},vt={class:"stats-icon users"},yt={class:"stats-info"},gt={class:"stats-number"},bt={class:"card-header"},xt={class:"chart-container"},wt={class:"card-header"},kt={class:"chart-container"},St={class:"card-header"},zt={class:"chart-container"},Ct={class:"card-header"},At={class:"activity-list"},Dt={class:"activity-content"},Wt={class:"activity-title"},$t={class:"activity-desc"},Bt={key:0,class:"empty-activities"},Ot=K({__name:"Dashboard",setup(Et){T([U,H,J,Q,X,j,q,G]);const z=w(!1),l=w({total_wheelchairs:0,available_wheelchairs:0,total_orders:0,active_orders:0,total_users:0,monthly_revenue:0,daily_orders:[],wheelchair_usage:[],order_status_distribution:[]}),C=w([{time:"2024-01-15 14:30",type:"primary",title:"新订单创建",description:"用户张三创建了轮椅租赁订单 #WR20240115001"},{time:"2024-01-15 13:45",type:"success",title:"订单完成",description:"订单 #WR20240114005 已完成归还，轮椅状态已更新"},{time:"2024-01-15 12:20",type:"warning",title:"库存预警",description:"标准轮椅库存不足，当前剩余 3 台"},{time:"2024-01-15 11:15",type:"info",title:"新用户注册",description:"新用户李四完成注册，用户总数达到 156 人"},{time:"2024-01-15 10:30",type:"success",title:"轮椅维护完成",description:"电动轮椅 #EW001 维护完成，已重新上架"}]),A=k(()=>l.value.daily_orders.length?{title:{text:"近30天订单趋势",textStyle:{fontSize:14,fontWeight:"normal"}},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:l.value.daily_orders.map(o=>o.date)},yAxis:{type:"value"},series:[{name:"订单数量",type:"line",smooth:!0,data:l.value.daily_orders.map(o=>o.count),itemStyle:{color:"#409EFF"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(64, 158, 255, 0.3)"},{offset:1,color:"rgba(64, 158, 255, 0.1)"}]}}}]}:null),D=k(()=>l.value.wheelchair_usage.length?{title:{text:"轮椅使用排行",textStyle:{fontSize:14,fontWeight:"normal"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:l.value.wheelchair_usage.map(o=>o.name)},series:[{name:"使用次数",type:"bar",data:l.value.wheelchair_usage.map(o=>o.usage_count),itemStyle:{color:"#67C23A"}}]}:null),W=k(()=>l.value.order_status_distribution.length?{title:{text:"订单状态分布",textStyle:{fontSize:14,fontWeight:"normal"},left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",left:"left",top:"middle"},series:[{name:"订单状态",type:"pie",radius:["40%","70%"],center:["60%","50%"],data:l.value.order_status_distribution.map(o=>({value:o.count,name:o.status})),emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}:null),m=async()=>{try{z.value=!0;const o={total_wheelchairs:45,available_wheelchairs:32,total_orders:128,active_orders:15,total_users:89,monthly_revenue:25600,daily_orders:[{date:"01-01",count:5},{date:"01-02",count:8},{date:"01-03",count:12},{date:"01-04",count:7},{date:"01-05",count:15},{date:"01-06",count:10},{date:"01-07",count:18},{date:"01-08",count:14},{date:"01-09",count:9},{date:"01-10",count:16}],wheelchair_usage:[{name:"标准轮椅",usage_count:45},{name:"电动轮椅",usage_count:32},{name:"轻便轮椅",usage_count:28},{name:"运动轮椅",usage_count:15},{name:"儿童轮椅",usage_count:8}],order_status_distribution:[{status:"待配送",count:8},{status:"已配送",count:5},{status:"使用中",count:15},{status:"已归还",count:95},{status:"已取消",count:5}]};l.value=o}catch(o){console.error("获取仪表板数据失败:",o),p.error("获取数据失败，请稍后重试")}finally{z.value=!1}},$=()=>{p.success("订单趋势数据已刷新"),m()},B=()=>{p.success("轮椅使用统计已刷新"),m()},O=()=>{p.success("订单状态分布已刷新"),m()},E=()=>{p.success("活动记录已刷新")};return Y(()=>{m()}),(o,a)=>{const c=r("el-icon"),d=r("el-card"),u=r("el-col"),g=r("el-row"),f=r("el-button"),b=r("el-skeleton"),L=r("el-timeline-item"),F=r("el-timeline"),N=r("el-empty");return n(),S("div",at,[t(g,{gutter:20,class:"stats-row"},{default:e(()=>[t(u,{xs:12,sm:6},{default:e(()=>[t(d,{class:"stats-card"},{default:e(()=>[s("div",ot,[s("div",lt,[t(c,{size:"32"},{default:e(()=>[t(i(R))]),_:1})]),s("div",it,[s("div",nt,h(l.value.total_wheelchairs||0),1),a[0]||(a[0]=s("div",{class:"stats-label"},"总轮椅数",-1))])])]),_:1})]),_:1}),t(u,{xs:12,sm:6},{default:e(()=>[t(d,{class:"stats-card"},{default:e(()=>[s("div",rt,[s("div",ct,[t(c,{size:"32"},{default:e(()=>[t(i(V))]),_:1})]),s("div",dt,[s("div",ut,h(l.value.available_wheelchairs||0),1),a[1]||(a[1]=s("div",{class:"stats-label"},"可用轮椅",-1))])])]),_:1})]),_:1}),t(u,{xs:12,sm:6},{default:e(()=>[t(d,{class:"stats-card"},{default:e(()=>[s("div",_t,[s("div",ht,[t(c,{size:"32"},{default:e(()=>[t(i(I))]),_:1})]),s("div",pt,[s("div",mt,h(l.value.total_orders||0),1),a[2]||(a[2]=s("div",{class:"stats-label"},"总订单数",-1))])])]),_:1})]),_:1}),t(u,{xs:12,sm:6},{default:e(()=>[t(d,{class:"stats-card"},{default:e(()=>[s("div",ft,[s("div",vt,[t(c,{size:"32"},{default:e(()=>[t(i(M))]),_:1})]),s("div",yt,[s("div",gt,h(l.value.total_users||0),1),a[3]||(a[3]=s("div",{class:"stats-label"},"总用户数",-1))])])]),_:1})]),_:1})]),_:1}),t(g,{gutter:20,class:"charts-row"},{default:e(()=>[t(u,{xs:24,lg:12},{default:e(()=>[t(d,{class:"chart-card"},{header:e(()=>[s("div",bt,[a[4]||(a[4]=s("span",null,"订单趋势",-1)),t(f,{type:"text",onClick:$},{default:e(()=>[t(c,null,{default:e(()=>[t(i(y))]),_:1})]),_:1})])]),default:e(()=>[s("div",xt,[A.value?(n(),_(i(x),{key:0,option:A.value,style:{height:"300px"},autoresize:""},null,8,["option"])):(n(),_(b,{key:1,rows:6,animated:""}))])]),_:1})]),_:1}),t(u,{xs:24,lg:12},{default:e(()=>[t(d,{class:"chart-card"},{header:e(()=>[s("div",wt,[a[5]||(a[5]=s("span",null,"轮椅使用统计",-1)),t(f,{type:"text",onClick:B},{default:e(()=>[t(c,null,{default:e(()=>[t(i(y))]),_:1})]),_:1})])]),default:e(()=>[s("div",kt,[D.value?(n(),_(i(x),{key:0,option:D.value,style:{height:"300px"},autoresize:""},null,8,["option"])):(n(),_(b,{key:1,rows:6,animated:""}))])]),_:1})]),_:1})]),_:1}),t(g,{gutter:20,class:"charts-row"},{default:e(()=>[t(u,{xs:24,lg:8},{default:e(()=>[t(d,{class:"chart-card"},{header:e(()=>[s("div",St,[a[6]||(a[6]=s("span",null,"订单状态分布",-1)),t(f,{type:"text",onClick:O},{default:e(()=>[t(c,null,{default:e(()=>[t(i(y))]),_:1})]),_:1})])]),default:e(()=>[s("div",zt,[W.value?(n(),_(i(x),{key:0,option:W.value,style:{height:"300px"},autoresize:""},null,8,["option"])):(n(),_(b,{key:1,rows:6,animated:""}))])]),_:1})]),_:1}),t(u,{xs:24,lg:16},{default:e(()=>[t(d,{class:"activity-card"},{header:e(()=>[s("div",Ct,[a[7]||(a[7]=s("span",null,"最近活动",-1)),t(f,{type:"text",onClick:E},{default:e(()=>[t(c,null,{default:e(()=>[t(i(y))]),_:1})]),_:1})])]),default:e(()=>[s("div",At,[t(F,null,{default:e(()=>[(n(!0),S(tt,null,et(C.value,(v,P)=>(n(),_(L,{key:P,timestamp:v.time,type:v.type},{default:e(()=>[s("div",Dt,[s("div",Wt,h(v.title),1),s("div",$t,h(v.description),1)])]),_:2},1032,["timestamp","type"]))),128))]),_:1}),C.value.length===0?(n(),S("div",Bt,[t(N,{description:"暂无活动记录","image-size":80})])):Z("",!0)])]),_:1})]),_:1})]),_:1})])}}}),Rt=st(Ot,[["__scopeId","data-v-6782b6b3"]]);export{Rt as default};
