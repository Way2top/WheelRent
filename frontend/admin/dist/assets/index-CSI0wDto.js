const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-BTPmb7NT.js","assets/vendor-Dt6xM8n7.js","assets/elementPlus-DUIuSOAC.js","assets/index-BIipHNwb.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/Login-lt3QDufU.css","assets/Layout-LOvttcHp.js","assets/Layout-BEsDXPhC.css","assets/Dashboard-DHsPz_Yu.js","assets/charts-BoaYK9yd.js","assets/Dashboard-4mRzVUPC.css","assets/WheelchairManagement-CmVS2PT7.js","assets/WheelchairManagement-DOfQUfLL.css","assets/OrderManagement-CQ-X3bn7.js","assets/OrderManagement-DmMuvcrZ.css","assets/UserManagement-CozhN7kl.js","assets/UserManagement-Cq9djiOm.css","assets/SystemSettings-DgSn24bt.js","assets/SystemSettings-DF4EHyXD.css"])))=>i.map(i=>d[i]);
import{ax as y,r as f,c as E,ay as A,az as S,y as L,z as I,R as O,al as P,A as b,au as q,aA as R}from"./vendor-Dt6xM8n7.js";import{E as w,i as T}from"./elementPlus-DUIuSOAC.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function a(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(t){if(t.ep)return;t.ep=!0;const n=a(t);fetch(t.href,n)}})();const V="modulepreload",k=function(e){return"/"+e},_={},c=function(o,a,i){let t=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));t=Promise.allSettled(a.map(l=>{if(l=k(l),l in _)return;_[l]=!0;const d=l.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const r=document.createElement("link");if(r.rel=d?"stylesheet":V,d||(r.as="script"),r.crossOrigin="",r.href=l,u&&r.setAttribute("nonce",u),document.head.appendChild(r),d)return new Promise((m,v)=>{r.addEventListener("load",m),r.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function n(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return t.then(s=>{for(const u of s||[])u.status==="rejected"&&n(u.reason);return o().catch(n)})},U=y("auth",()=>{const e=f(localStorage.getItem("admin_token")),o=f(null),a=f(!1),i=E(()=>!!e.value&&!!o.value),t=(r,m)=>{e.value=r,o.value=m,localStorage.setItem("admin_token",r),localStorage.setItem("admin_user",JSON.stringify(m))},n=()=>{e.value=null,o.value=null,localStorage.removeItem("admin_token"),localStorage.removeItem("admin_user")};return{token:e,user:o,loading:a,isLoggedIn:i,login:t,logout:n,initUser:()=>{const r=localStorage.getItem("admin_user");if(r&&e.value)try{o.value=JSON.parse(r)}catch(m){console.error("解析用户信息失败:",m),n()}},updateUser:r=>{o.value&&(o.value={...o.value,...r},localStorage.setItem("admin_user",JSON.stringify(o.value)))},setLoading:r=>{a.value=r},checkTokenValidity:()=>{if(e.value)try{return e.value.split(".").length!==3?(n(),!1):!0}catch{return n(),!1}return!1},getAuthHeader:()=>e.value?{Authorization:`Bearer ${e.value}`}:{}}}),g=A({history:S(),routes:[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:()=>c(()=>import("./Login-BTPmb7NT.js"),__vite__mapDeps([0,1,2,3,4,5])),meta:{title:"管理员登录",requiresAuth:!1}},{path:"/dashboard",name:"Dashboard",component:()=>c(()=>import("./Layout-LOvttcHp.js"),__vite__mapDeps([6,1,2,3,4,7])),meta:{title:"管理后台",requiresAuth:!0},children:[{path:"",name:"DashboardHome",component:()=>c(()=>import("./Dashboard-DHsPz_Yu.js"),__vite__mapDeps([8,2,1,9,4,10])),meta:{title:"数据概览",requiresAuth:!0}},{path:"wheelchairs",name:"WheelchairManagement",component:()=>c(()=>import("./WheelchairManagement-CmVS2PT7.js"),__vite__mapDeps([11,1,2,3,4,12])),meta:{title:"轮椅管理",requiresAuth:!0}},{path:"orders",name:"OrderManagement",component:()=>c(()=>import("./OrderManagement-CQ-X3bn7.js"),__vite__mapDeps([13,1,2,4,14])),meta:{title:"订单管理",requiresAuth:!0}},{path:"users",name:"UserManagement",component:()=>c(()=>import("./UserManagement-CozhN7kl.js"),__vite__mapDeps([15,1,2,4,16])),meta:{title:"用户管理",requiresAuth:!0}},{path:"settings",name:"SystemSettings",component:()=>c(()=>import("./SystemSettings-DgSn24bt.js"),__vite__mapDeps([17,2,1,4,18])),meta:{title:"系统设置",requiresAuth:!0}}]}]});g.beforeEach((e,o,a)=>{const i=U();e.meta.title&&(document.title=`${e.meta.title} - 在线轮椅租赁系统管理后台`),e.meta.requiresAuth?i.isLoggedIn?a():a("/login"):e.path==="/login"&&i.isLoggedIn?a("/dashboard"):a()});const D={id:"app"},N=L({__name:"App",setup(e){return(o,a)=>{const i=P("router-view");return b(),I("div",D,[O(i)])}}}),p=q(N),C=R();for(const[e,o]of Object.entries(w))p.component(e,o);p.use(C);p.use(T);p.use(g);p.mount("#app");export{U as u};
